<div class="min-h-screen bg-gray-50 flex items-center justify-center p-4" *ngIf="!isLoggedIn">
  <div class="w-full max-w-md">
    <div class="bg-white rounded-2xl shadow-xl p-8">
      <!-- Header -->
      <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-blue-500 mb-2">Forgot Password</h2>
        <p class="text-sm text-black">Enter your email to receive a reset code</p>
      </div>

      <!-- Forgot Password Form -->
      <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="space-y-6">
        <!-- Email Field -->
        <div class="space-y-2">
          <label for="email" class="block text-sm font-medium text-blue-500">Email Address</label>
          <input 
            id="email" 
            type="email" 
            formControlName="email" 
            class="w-full px-4 py-3 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-blue-700 placeholder-blue-300"
            [class.border-red-500]="getErrorMessage('email')"
            [class.focus:ring-red-500]="getErrorMessage('email')"
            [class.focus:border-red-500]="getErrorMessage('email')"
            autocomplete="email"
          >
          <div *ngIf="getErrorMessage('email')" class="text-red-600 text-sm flex items-center">
            <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
            </svg>
            {{ getErrorMessage('email') }}
          </div>
        </div>

        <!-- Response Message -->
        <div *ngIf="message" 
             [class.text-green-600]="messageType === 'success'" 
             [class.text-red-600]="messageType === 'error'"
             class="text-sm font-medium text-center">
          {{ message }}
        </div>

        <!-- Submit Button -->
        <button 
          type="submit" 
          class="w-full bg-blue-500 text-white py-3 px-4 rounded-full font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center"
          [disabled]="forgotPasswordForm.invalid || isSubmitting"
        >
          <svg *ngIf="!isSubmitting" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3" class="mr-2">
            <path d="m720-160-56-56 63-64H560v-80h167l-63-64 56-56 160 160-160 160ZM160-280q-33 0-56.5-23.5T80-360v-400q0-33 23.5-56.5T160-840h520q33 0 56.5 23.5T760-760v204q-10-2-20-3t-20-1q-10 0-20 .5t-20 2.5v-147L416-520 160-703v343h323q-2 10-2.5 20t-.5 20q0 10 1 20t3 20H160Zm58-480 198 142 204-142H218Zm-58 400v-400 400Z"/>
          </svg>
          <svg *ngIf="isSubmitting" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          <span *ngIf="isSubmitting">Sending...</span>
          <span *ngIf="!isSubmitting">Send Reset Code</span>
        </button>
      </form>

      <!-- Back to Login -->
      <div class="mt-8 pt-6 border-t border-blue-100">
        <p class="text-center text-sm text-black">
          Remembered your password?
          <a (click)="goToLogin()" class="text-blue-500 hover:text-blue-700 font-medium ml-1 transition-colors cursor-pointer">Back to Login</a>
        </p>
    </div>
  </div>
</div>
</div>
