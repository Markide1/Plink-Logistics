<div class="container mx-auto mt-10">
  <h2 class="text-2xl font-bold mb-5">Login</h2>
  <form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)">
    <div class="mb-4">
      <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
      <input
        type="email"
        id="email"
        name="email"
        class="mt-1 block w-full border border-solid border-gray-300 rounded-md"
        [(ngModel)]="credentials.email"
        required
        email
        #emailInput="ngModel"
      />
      <div *ngIf="emailInput.errors?.['required'] && emailInput.touched" class="text-red-600 text-sm">
        Email is required.
      </div>
      <div *ngIf="emailInput.errors?.['email'] && emailInput.touched" class="text-red-600 text-sm">
        Please enter a valid email.
      </div>
    </div>

    <div class="mb-4 relative">
      <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
      <input
        [type]="showPassword ? 'text' : 'password'"
        id="password"
        name="password"
        class="mt-1 block w-full border border-solid border-gray-300 rounded-md"
        [(ngModel)]="credentials.password"
        required
        minlength="6"
        #passwordInput="ngModel"
      />
      <button type="button" (click)="togglePasswordVisibility()" class="absolute inset-y-0 right-0 pr-3 flex items-center">
        <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
      </button>
      <div *ngIf="passwordInput.errors?.['required'] && passwordInput.touched" class="text-red-600 text-sm">
        Password is required.
      </div>
      <div *ngIf="passwordInput.errors?.['minlength'] && passwordInput.touched" class="text-red-600 text-sm">
        Password must be at least 6 characters.
      </div>
    </div>

    <div *ngIf="errorMessage" class="text-red-600 mb-3 text-sm">
      {{ errorMessage }}
    </div>

    <button type="submit" [disabled]="isLoading" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
      Login
    </button>
  </form>
</div>

